(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{544:function(t,a,_){t.exports=_.p+"assets/img/debug1.3b0cbdf4.jpg"},620:function(t,a,_){"use strict";_.r(a);var e=_(24),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"用友调试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用友调试"}},[t._v("#")]),t._v(" 用友调试")]),t._v(" "),e("h2",{attrs:{id:"_1-开远程端口-运维开"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-开远程端口-运维开"}},[t._v("#")]),t._v(" 1.开远程端口-运维开")]),t._v(" "),e("ol",[e("li",[t._v("群里@司国利和王会新开远程端口,")]),t._v(" "),e("li",[t._v("开了后,在开发者平台的,应用管理,属性,调试端口,找到配置信息.")]),t._v(" "),e("li",[t._v("然后在idea起一个远程调试.即可.")])]),t._v(" "),e("h2",{attrs:{id:"_2-开远程端口-自己开"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-开远程端口-自己开"}},[t._v("#")]),t._v(" 2.开远程端口-自己开")]),t._v(" "),e("ol",[e("li",[t._v("登录有权限的"),e("code",[t._v("开发者中心")]),t._v(",选择要开的项目.点击右上角的"),e("code",[t._v("应用管理")]),t._v(".")]),t._v(" "),e("li",[t._v("在应用管理中,选择"),e("code",[t._v("属性")]),t._v(",点击编辑,在下面找到"),e("code",[t._v("调试端口")]),t._v(",打钩"),e("code",[t._v("启用调试端口")]),t._v(".")]),t._v(" "),e("li",[t._v("保存,选择"),e("code",[t._v("重启并同步到流水线")]),t._v(".")])]),t._v(" "),e("h2",{attrs:{id:"_3-普通调试端口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-普通调试端口"}},[t._v("#")]),t._v(" 3.普通调试端口")]),t._v(" "),e("ol",[e("li",[t._v("登录有权限的"),e("code",[t._v("开发者中心")]),t._v(",选择要开的项目.点击右上角的"),e("code",[t._v("应用管理")]),t._v(".")]),t._v(" "),e("li",[t._v("在应用管理中,选择"),e("code",[t._v("实例")]),t._v(",(默认就是),下面有一个"),e("code",[t._v("开启调试")]),t._v(".点下稍等即可.")])]),t._v(" "),e("h2",{attrs:{id:"_4-事件等rpc调用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-事件等rpc调用"}},[t._v("#")]),t._v(" 4.事件等rpc调用.")]),t._v(" "),e("p",[t._v("以前我们开的调试实例,cookie带上gray_env后,只能调试http请求打进去的请求.但是发出事件后,通过rpc调用,consumer却无法接收到调试断点.只能通过调试端口来进行调试,但是这样不仅会导致程序阻塞,甚至超时崩溃,那么如何解决呢.")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("启动一个调试实例,但是有一个需要注意的东西,就是这个"),e("strong",[t._v("注册中心实例版本")]),t._v(",需要实际指定一个,另外cooike也建议自己自定义,这样就可以同时调试多个实例.")]),t._v(" "),e("p",[e("img",{attrs:{src:_(544),alt:""}})])]),t._v(" "),e("li",[e("p",[t._v("然后我们在浏览器的cookie中,加入zone=注册中心实例版本,就像加入gray_env一样就可以了.")])]),t._v(" "),e("li",[e("p",[t._v("这个事件之所以能够打到调试实例,还有一个原因就是在发送事件的时候,已经在框架中加入了调试参数,这个对事件使用人是无感的.如果其他的地方使用事件(例如不是用项目云框架发事件)却无法正常进入断点,那么需要看看事件发送时候,有没有加入对应参数.参照EosDomainEventPublisher.java的setDebugParam方法.")])])]),t._v(" "),e("h2",{attrs:{id:"_5-云机一体"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-云机一体"}},[t._v("#")]),t._v(" 5.云机一体")]),t._v(" "),e("h4",{attrs:{id:"_1-本地服务在原有基础上增加三个启动参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-本地服务在原有基础上增加三个启动参数"}},[t._v("#")]),t._v(" 1.本地服务在原有基础上增加三个启动参数")]),t._v(" "),e("p",[t._v("注意下面的要求,test:只能连测试环境,62871:安全部只开放了这个端口,必须用这个.最后一个版本填自己手机号")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("-Dmw_profiles_active=test\n-Dserver.port=62871\n-Dapp.version=17343001244\n")])])]),e("h4",{attrs:{id:"_2-启动本地服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-启动本地服务"}},[t._v("#")]),t._v(" 2.启动本地服务")]),t._v(" "),e("p",[t._v("登录测试环境打开"),e("a",{attrs:{href:"https://bip-test.yyuap.com/version.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("测试环境"),e("OutboundLink")],1),t._v("，在固定灰度策略下的value中输入自己手机号")]),t._v(" "),e("p",[t._v("或者直接在cookie中增加zone属性,属性就是上面的手机号.")]),t._v(" "),e("h4",{attrs:{id:"_3-详细文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-详细文档"}},[t._v("#")]),t._v(" 3.详细文档")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://uap-wiki.yyrd.com/pages/viewpage.action?pageId=169884813",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细文档wiki"),e("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=r.exports}}]);